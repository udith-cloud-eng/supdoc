import{ao as d,f,ap as o,aq as n}from"./main-841f1a6b.js";const A=d("auth",()=>{const a=f({}),s=f({}),u=f(!!o.getToken());function i(e){u.value=!0,s.value=e,a.value={},o.saveToken(s.value.api_token)}function r(e){a.value={...e}}function c(){u.value=!1,s.value={},a.value=[],o.destroyToken()}function h(e){return n.post("login",e).then(({data:t})=>{i(t)}).catch(({response:t})=>{r(t.data.errors)})}function l(){c()}function v(e){return n.post("register",e).then(({data:t})=>{i(t)}).catch(({response:t})=>{r(t.data.errors)})}function p(e){return n.post("forgot_password",e).then(()=>{r({})}).catch(({response:t})=>{r(t.data.errors)})}function g(){o.getToken()?(n.setHeader(),n.post("verify_token",{api_token:o.getToken()}).then(({data:e})=>{i(e)}).catch(({response:e})=>{r(e.data.errors),c()})):c()}return{errors:a,user:s,isAuthenticated:u,login:h,logout:l,register:v,forgotPassword:p,verifyAuth:g}});export{A as u};
